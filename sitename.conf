server {
		######
		#	Listen port
		######
        	listen 80 default_server;		#IPv4
		listen [::]:80 default_server;		#IPv6


		######
		# SSL configuration
		######
		# listen 443 ssl default_server;
		# listen [::]:443 ssl default_server;
		#
		# Note: You should disable gzip for SSL traffic.
		# See: https://bugs.debian.org/773332
		#
		# Read up on ssl_ciphers to ensure a secure configuration.
		# See: https://bugs.debian.org/765782
		#
		# Self signed certs generated by the ssl-cert package
		# Don't use them in a production server!
		#
		# include snippets/snakeoil.conf;



		######
		#	Root directory info
		#		default directory where the files will be stored and served from
		######
        	root /var/www/sites/sitename/public;



		######
		#	The index file
		#		index defined to be served under directory
		######
        	index index.php index.html index.htm;



		######
		#	Server name
		#		Name of the virtual host or domain
		######
        	server_name mainserver.com;



		######
		#	Misc
		######
        	location / {
                try_files $uri $uri/ =404;

					#try_files $uri $uri/ =404;
					#Give 404 page
					#
					#try_files $uri $uri/ /index.html;
					#Give index.html page

				######
				#	Directory listing
				######
				autoindex off;
        	}
		
		
		
		######
		#	Removing access log on robot.txt and favicon.ico
		######
		location = /favicon.ico { access_log off; log_not_found off; }
    		location = /robots.txt  { access_log off; log_not_found off; }
		
		
		
		######
		#	maximum allowed size of the client request body
		######
		client_max_body_size 100m;



		######
		#	PHP Settings
        	#		Serve PHP scripts to FastCGI server our php-fpm server listening on php7.0-fpm.sock
		######

        	location ~ \.php$ {
        	        # With php7-fpm:
        	        fastcgi_pass unix:/run/php7.0-fpm.sock;
        		fastcgi_index index.php;
                	include fastcgi_params;
			fastcgi_param SCRIPT_FILENAME $document_root/$fastcgi_script_name;
			###
			#	PHP gateway specs
			###
			fastcgi_intercept_errors off;
        		fastcgi_buffer_size 16k;
        		fastcgi_buffers 4 16k;
        		fastcgi_connect_timeout 300;
        		fastcgi_send_timeout 300;
        		fastcgi_read_timeout 300;
        	}



		######
		#	404 Page
		######

		error_page 404 /404.html;



		######
		#	403 Page
		######

		error_page 403 /403.html;
		
		
		
		######
        	#	50x error
		######

		error_page 500 502 503 504 /50x.html;



		######
		#	Ht access things
		#		deny access to .htaccess files, if Apache's document root
		######
        	location ~ /\.ht {
			deny all;
        	}
		
		###
		#  Anti-flood
		#	in nginx.conf:
		#			limit_req_zone $binary_remote_addr zone=one:10m rate=1r/s;
		###
		
		#limit_req   zone=one  burst=1 nodelay;

}
